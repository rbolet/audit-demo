includes:
    - vendor/larastan/larastan/extension.neon

parameters:
    paths:
        - app/
        - database/factories/
        - database/seeders/
        - routes/
        - config/

    # Level 6 for stricter analysis - good for production apps
    level: 6

    # Modern PHPStan configuration (valid options only)
    checkExplicitMixed: true
    checkFunctionNameCase: true
    checkInternalClassCaseSensitivity: true
    checkMissingVarTagTypehint: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true
    checkUninitializedProperties: true
    checkDynamicProperties: true
    reportMagicMethods: true
    reportMagicProperties: true
    reportStaticMethodSignatures: true
    reportWrongPhpDocTypeInVarTag: true

    ignoreErrors:
        # Laravel-specific patterns that are safe to ignore
        - '#Unsafe usage of new static\(\)#'
        - '#Call to an undefined method Illuminate\\Database\\Eloquent\\Builder#'
        - '#Method .+ should return .+ but returns Illuminate\\Database\\Eloquent\\Builder#'

    excludePaths:
        - bootstrap/cache/
        - storage/
        - vendor/
        - database/migrations/
        - tests/

    # Type aliases for better type checking
    typeAliases:
        UserId: 'int<1, max>'
